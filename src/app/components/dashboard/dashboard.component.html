<ng-container *ngIf="dataloaded">
  <nav class="navbar navbar-expand-lg navbar-light bg-light border">
    <ul class="navbar-nav m-auto">
      <li class="nav-item">
        <a class="nav-link" routerLink="/blog">Blog</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" routerLink="/dashboard" routerLinkActive="router-link-active">Dashboard</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" routerLink="/">Landing Page</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" routerLink="/" (click)="signout()">Logout</a>
      </li>
    </ul>
  </nav>
  <div class="container-fluid">
    <div class="row" style="min-height: 100vh;">
      <div class="col-3 sidebar">
        <app-action-bar></app-action-bar>
      </div>
      <div class="col-6" style="background-color: #EAEBEF;">
        <div class="row">

          <div class="col-lg-12">

            <h5 class="display-4 text-center p-4">My Posts</h5>
            <table class="table table-striped text-center">
              <thead>
                <tr>
                  <th scope="col">Post</th>
                  <th scope="col">Created At</th>
                  <th scope="col">Actions</th>
                </tr>
              </thead>

              <tbody *ngIf="posts">
                <ng-container *ngFor="let post of posts">
                  <tr>
                    <td>{{ post.data.title }}</td>
                    <td>{{(post.data.createdtime.seconds * 1000) | date : 'MMM d' }}</td>
                    <td>
                      <button class="btn btn-outline-primary btn-sm mr-2"
                        [routerLink]="['/edit/post', post.id]">Edit</button>
                      <button class="btn btn-outline-danger btn-sm"
                        (click)="remove(post.id, post.data.imgUrl)">Remove</button>
                    </td>
                  </tr>
                </ng-container>
              </tbody>
            </table>
          </div>
        </div>

      </div>
      <div class="col-3">
        <h3 class="text-center">Messages</h3>
        <app-messages></app-messages>
      </div>
    </div>
  </div>
</ng-container>


<ng-container *ngIf="!dataloaded">
  <div style="width: 100%; height: 100%; display: flex; justify-content: center; align-items: center;">
    <div class="spinner-grow text-primary" role="status">
      <span class="sr-only">Loading...</span>
    </div>
    <div class="spinner-grow text-secondary" role="status">
      <span class="sr-only">Loading...</span>
    </div>
    <div class="spinner-grow text-success" role="status">
      <span class="sr-only">Loading...</span>
    </div>
    <div class="spinner-grow text-danger" role="status">
      <span class="sr-only">Loading...</span>
    </div>
    <div class="spinner-grow text-warning" role="status">
      <span class="sr-only">Loading...</span>
    </div>
    <div class="spinner-grow text-info" role="status">
      <span class="sr-only">Loading...</span>
    </div>
    <div class="spinner-grow text-light" role="status">
      <span class="sr-only">Loading...</span>
    </div>
    <div class="spinner-grow text-dark" role="status">
      <span class="sr-only">Loading...</span>
    </div>
  </div>

</ng-container>
